---
title: 'クリップアーカイブと単一責任を一つずつ管理する'
description: 'フィルターフックとクエリパラメータ'
pubDate: 'Mar 15 2025'
heroImage: '../../../assets/images/divide.jpg'
category: 'Frontend'
tags: ['architecture', 'component']
lang: 'ja'
---

# 単一責任とは何を意味するのか？

以前、私はフィルター状態を管理し、必要に応じてクエリパラメータを作成するHookを1つ持っていました。私のコンポーネントはユーザーとのインタラクションのみを担当し、「フィルタリング」という単一責任を持つ1つのHookはかなりエレガントでした。

最近、クリップアーカイブで特定のフィルター機能が少し複雑になりました。  
すると、可読性が低下し始めました。ボスがフィルターAを削除して、フィルターBを追加してと言うたびに、開発が鈍くなりました。その時はエレガントでしたが、今はそうではありません。

サーバーに送る必要があるフィルタリングと、クライアント側で管理する必要があるフィルタリングが1つのフックに入っていました。

# 責任を一つずつ管理する

通勤中に[この記事](https://frontend-fundamentals.com/code/examples/use-page-state-coupling.html)を読むことになりました。

まず、ここに示されている例は正解ではありません。これは状況によって異なるためです。

ただし、ロジックの種類に応じて責任を分割しないというアドバイスは、今のところ正解のようです。

私の場合、状況が少し異なります。特定のEntityに対してクエリを作成するクエリファクトリーが別にあり、そのクエリファクトリーにモデルAを渡して使用していました。そのため、モデルを適切に分離しました。

文章を書いているうちに、モデルとコンポーネント、フックについての私の考えも追加で書く必要があると思いました。次回の機会に...
